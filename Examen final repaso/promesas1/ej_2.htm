<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temporitzador</title>
</head>
<body>
    
    <label for="temps">Introduzca tiempo</label>
    <input type="number" id="temps">

    <button>Iniciar</button>

    <p id="mensaje"></p>

    <script>

        function temporitzador(temps) {

            return new Promise((resolve, reject) => {

                if(isNaN(temps) || temps <= 0) {

                    reject("Valors no vÃ lids, si us plau introduesqui un altre nombre");

                } else {

                    setTimeout(() => {

                        resolve(`Temporitzador finalitzat, el temporitzador ha durat ${temps} segons`);

                    }, (1000 * temps));

                }

            });

        }

        var boto = document.querySelector("button");
        var mens = document.getElementById("mensaje");
        var input = document.getElementById("temps");

        boto.addEventListener("click", () => {

            let t = parseInt(input.value);
            mens.textContent = "Temporizador en curso";
            mens.style = "color: black";

            temporitzador(t)
                .then((resultat) => {

                    mens.textContent = resultat;
                    mens.style = "color: green";

                }) .catch((resultat) => {

                    mens.textContent = resultat;
                    mens.style = "color: red";

                })

        })        

    </script>
</body>
</html>