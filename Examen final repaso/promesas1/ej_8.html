<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ConversiÃ³n de callbak a promesa</title>
</head>
<body>
    
    <!-- Callback -->
    <h1>FunciÃ³n con callback</h1>

    <label for="call">ğŸ“¥ Descargar archivo</label>
    <button id="call">Pulsar aquÃ­</button>

    <p id="cmens"></p>

    <!-- Promise -->
    <h1>FunciÃ³n con Promise</h1>

    <label for="call">ğŸ“¥ Descargar archivo</label>
    <button id="prom">Pulsar aquÃ­</button>

    <p id="pmens"></p>

    <script>

        // FunciÃ³n callback
        let cmens = document.getElementById("cmens");
        let botoc = document.getElementById("call");

        function descargacall(callback) {

            setTimeout(() => {

                callback("âœ… Descarga completada")

            }, 2000)

        }

        botoc.addEventListener("click", () => {

            cmens.style = "";
            cmens.textContent = "Descargando...";

            descargacall(function(result) {

                cmens.textContent = result;
                cmens.style = "color: green"

            });

        })

        // FunciÃ³n promise
        let pmens = document.getElementById("pmens");
        let botop = document.getElementById("prom");

        function descargarprom() {

            return new Promise((resolve) => {

                setTimeout(() => {

                    resolve("âœ… Descarga completada");

                }, 2000)

            });

        }

        botop.addEventListener("click", () => {

            pmens.textContent = "Descagrando...";
            pmens.style = "";

            descargarprom()
                .then((result) => {

                    pmens.textContent = result;
                    pmens.style = "color: green";

                });

        })

    </script>
</body>
</html>